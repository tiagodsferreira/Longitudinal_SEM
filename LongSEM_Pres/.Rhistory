Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13
PosAFF12 ~~ PosAFF13
PosAFF21 ~~ PosAFF22 + PosAFF23
PosAFF22 ~~ PosAFF23
PosAFF31 ~~ PosAFF32 + PosAFF33
PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13
NegAFF12 ~~ NegAFF13
NegAFF21 ~~ NegAFF22 + NegAFF23
NegAFF22 ~~ NegAFF23
NegAFF31 ~~ NegAFF32 + NegAFF33
NegAFF32 ~~ NegAFF33
"
fit.7 <- cfa(modelo.7, data = DF_mood, meanstructure=T, std.lv=T)
DF_mood
modelo.7 <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13
PosAFF12 ~~ PosAFF13
PosAFF21 ~~ PosAFF22 + PosAFF23
PosAFF22 ~~ PosAFF23
PosAFF31 ~~ PosAFF32 + PosAFF33
PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13
NegAFF12 ~~ NegAFF13
NegAFF21 ~~ NegAFF22 + NegAFF23
NegAFF22 ~~ NegAFF23
NegAFF31 ~~ NegAFF32 + NegAFF33
NegAFF32 ~~ NegAFF33
"
fit.7 <- cfa(modelo.7, data = DF_mood, meanstructure=T, std.lv=T)
modelo.7 <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13
PosAFF12 ~~ PosAFF13
PosAFF21 ~~ PosAFF22 + PosAFF23
PosAFF22 ~~ PosAFF23
PosAFF31 ~~ PosAFF32 + PosAFF33
PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13
NegAFF12 ~~ NegAFF13
NegAFF21 ~~ NegAFF22 + NegAFF23
NegAFF22 ~~ NegAFF23
NegAFF31 ~~ NegAFF32 + NegAFF33
NegAFF32 ~~ NegAFF33
"
fit.7 <- cfa(modelo.7, data = DF_mood, meanstructure=T, std.lv=T)
fit.7 <- lavaan::cfa(modelo.7, data = DF_mood, meanstructure=T, std.lv=T)
semPaths(fit.7, whatLabels="std", title = FALSE, curvePivot = TRUE, layout="tree", intercepts=T, rotation=2, nCharNodes=0, sizeMan=3, sizeLat= 5, residuals=T, exoVar=F, edge.color=9)
modelo.7 <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13
PosAFF12 ~~ PosAFF13
PosAFF21 ~~ PosAFF22 + PosAFF23
PosAFF22 ~~ PosAFF23
PosAFF31 ~~ PosAFF32 + PosAFF33
PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13
NegAFF12 ~~ NegAFF13
NegAFF21 ~~ NegAFF22 + NegAFF23
NegAFF22 ~~ NegAFF23
NegAFF31 ~~ NegAFF32 + NegAFF33
NegAFF32 ~~ NegAFF33
"
fit.7 <- lavaan::cfa(modelo.7, data = DF_mood, meanstructure=T, std.lv=T)
modelo.7 <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
"
fit.7 <- cfa(modelo.7, data = DF_mood, meanstructure=T, std.lv=T)
names(DF_mood)
modelo.7 <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
"
fit.7 <- cfa(modelo.7, data = DF_mood, meanstructure=T, std.lv=T)
semPaths(fit.7, whatLabels="std", title = FALSE, curvePivot = TRUE, layout="tree", intercepts=T, rotation=2, nCharNodes=0, sizeMan=3, sizeLat= 5, residuals=T, exoVar=F, edge.color=9)
modelo.7 <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13
PosAFF12 ~~ PosAFF13
PosAFF21 ~~ PosAFF22 + PosAFF23
PosAFF22 ~~ PosAFF23
PosAFF31 ~~ PosAFF32 + PosAFF33
PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13
NegAFF12 ~~ NegAFF13
NegAFF21 ~~ NegAFF22 + NegAFF23
NegAFF22 ~~ NegAFF23
NegAFF31 ~~ NegAFF32 + NegAFF33
NegAFF32 ~~ NegAFF33
"
fit.7 <- cfa(modelo.7, data = DF_mood, meanstructure=T, std.lv=T)
modelo.7 <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13
PosAFF12 ~~ PosAFF13
PosAFF21 ~~ PosAFF22 + PosAFF23
PosAFF22 ~~ PosAFF23
PosAFF31 ~~ PosAFF32 + PosAFF33
PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13
NegAFF12 ~~ NegAFF13
NegAFF21 ~~ NegAFF22 + NegAFF23
NegAFF22 ~~ NegAFF23
NegAFF31 ~~ NegAFF32 + NegAFF33
NegAFF32 ~~ NegAFF33
"
fit.7 <- cfa(modelo.7, data = DF_mood, meanstructure=T, std.lv=T)
library(lavaan)
modelo.7 <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13
PosAFF12 ~~ PosAFF13
PosAFF21 ~~ PosAFF22 + PosAFF23
PosAFF22 ~~ PosAFF23
PosAFF31 ~~ PosAFF32 + PosAFF33
PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13
NegAFF12 ~~ NegAFF13
NegAFF21 ~~ NegAFF22 + NegAFF23
NegAFF22 ~~ NegAFF23
NegAFF31 ~~ NegAFF32 + NegAFF33
NegAFF32 ~~ NegAFF33
"
fit.7 <- cfa(modelo.7, data = DF_mood, meanstructure=T, std.lv=T)
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Figure\\MG_CFA.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Figures\\MG_CFA.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\ConfirmatoryFactorAnalysis\\files\\figures\\matrix.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\ConfirmatoryFactorAnalysis\\files\\figures\\cfamodel.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\MeasurementInvariance\\figures\\MI_step0.png)
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\MeasurementInvariance\\figures\\MI_step0.png)
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\MeasurementInvariance\\figures\\MI_step0.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Figures\\CFA_long.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Figures\\CFA_long.png")
DF_mood <- read.csv("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Data\\df_mood.csv")
names(DF_mood)
## read sufficient statistics from example data file
mymeans <- scan("C:\\Users\\tiago\\Google Drive\\FPCEUP\\R trainning\\PDPsi\\R crash course_DATA\\L3.MoodLong.dat", skip=0, nlines=1)
library(psych) # se necessário: install.packages("psych")
psych::describe(DF_mood[ ,1:6])
library(ggplot2) # se necessário: install.packages("ggplot2")
DF_pos <- data.frame(var=c(rep("PosAFF_1", 368), rep("PosAFF_2", 368), rep("PosAFF_3", 368)),
value = c(DF_mood$PosAFF11, DF_mood$PosAFF21, DF_mood$PosAFF31))
ggplot(DF_pos, aes(x=value)) +
geom_histogram(aes(fill=var),color="grey80", binwidth = 0.4) + facet_grid(var~.)
DF_neg <- data.frame(var=c(rep("NegAFF_1", 368), rep("NegAFF_2", 368), rep("NegAFF_3", 368)),
value = c(DF_mood$NegAFF11, DF_mood$NegAFF21, DF_mood$NegAFF31))
ggplot(DF_neg, aes(x=value)) +
geom_histogram(aes(fill=var),color="grey80", binwidth = 0.4) + facet_grid(var~.)
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Figures\\MG_CFA.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Figures\\CFA_long.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Figures\\CFA_long_little.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Figures\\CFA_long_little.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Figures\\CFA_long_little.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Figures\\CFA_long_little.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\MeasurementInvariance\\figures\\MI_step0.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\MeasurementInvariance\\figures\\nestedmodels.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\MeasurementInvariance\\figures\\alhosbugalhos.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\MeasurementInvariance\\figures\\alhosbugalhos.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\MeasurementInvariance\\figures\\cfamodel.png")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\MeasurementInvariance\\figures\\nestedmodels.png")
?measEq.syntax
# Dar nomes aos clusters e reportar os coeficientes e ajustamento
?measEq.syntax
# Dar nomes aos clusters e reportar os coeficientes e ajustamento
library(semTools)
?measEq.syntax
fit.7 <- cfa(modelo.7, data = DF_mood, meanstructure=T, std.lv=T)
modelo.7 <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13; PosAFF12 ~~ PosAFF13;
PosAFF21 ~~ PosAFF22 + PosAFF23; PosAFF22 ~~ PosAFF23;
PosAFF31 ~~ PosAFF32 + PosAFF33; PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13; NegAFF12 ~~ NegAFF13;
NegAFF21 ~~ NegAFF22 + NegAFF23; NegAFF22 ~~ NegAFF23;
NegAFF31 ~~ NegAFF32 + NegAFF33; NegAFF32 ~~ NegAFF33
"
fit.7 <- cfa(modelo.7, data = DF_mood, meanstructure=T, std.lv=T)
modelo.conf <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13; PosAFF12 ~~ PosAFF13;
PosAFF21 ~~ PosAFF22 + PosAFF23; PosAFF22 ~~ PosAFF23;
PosAFF31 ~~ PosAFF32 + PosAFF33; PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13; NegAFF12 ~~ NegAFF13;
NegAFF21 ~~ NegAFF22 + NegAFF23; NegAFF22 ~~ NegAFF23;
NegAFF31 ~~ NegAFF32 + NegAFF33; NegAFF32 ~~ NegAFF33
"
fit.conf <- cfa(modelo.conf, data = DF_mood, std.lv = T, missing = "fiml", estimator="MLR")
library(lavaan) # se necessário: install.packages("lavaan")
library(semTools) # se necessário: install.packages("semTools")
library(semPlot)
modelo.conf <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13; PosAFF12 ~~ PosAFF13;
PosAFF21 ~~ PosAFF22 + PosAFF23; PosAFF22 ~~ PosAFF23;
PosAFF31 ~~ PosAFF32 + PosAFF33; PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13; NegAFF12 ~~ NegAFF13;
NegAFF21 ~~ NegAFF22 + NegAFF23; NegAFF22 ~~ NegAFF23;
NegAFF31 ~~ NegAFF32 + NegAFF33; NegAFF32 ~~ NegAFF33
"
fit.conf <- cfa(modelo.conf, data = DF_mood, std.lv = T, missing = "fiml", estimator="MLR")
modelo.conf <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13; PosAFF12 ~~ PosAFF13;
PosAFF21 ~~ PosAFF22 + PosAFF23; PosAFF22 ~~ PosAFF23;
PosAFF31 ~~ PosAFF32 + PosAFF33; PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13; NegAFF12 ~~ NegAFF13;
NegAFF21 ~~ NegAFF22 + NegAFF23; NegAFF22 ~~ NegAFF23;
NegAFF31 ~~ NegAFF32 + NegAFF33; NegAFF32 ~~ NegAFF33
"
fit.conf <- cfa(modelo.conf, data = DF_mood, std.lv = T, missing = "fiml", estimator="MLR")
modelo.conf <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13; PosAFF12 ~~ PosAFF13
PosAFF21 ~~ PosAFF22 + PosAFF23; PosAFF22 ~~ PosAFF23
PosAFF31 ~~ PosAFF32 + PosAFF33; PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13; NegAFF12 ~~ NegAFF13
NegAFF21 ~~ NegAFF22 + NegAFF23; NegAFF22 ~~ NegAFF23
NegAFF31 ~~ NegAFF32 + NegAFF33; NegAFF32 ~~ NegAFF33
"
fit.conf <- cfa(modelo.conf, data = DF_mood, std.lv = T, missing = "fiml", estimator="MLR")
modelo.conf <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13; PosAFF12 ~~ PosAFF13
PosAFF21 ~~ PosAFF22 + PosAFF23; PosAFF22 ~~ PosAFF23
PosAFF31 ~~ PosAFF32 + PosAFF33; PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13; NegAFF12 ~~ NegAFF13
NegAFF21 ~~ NegAFF22 + NegAFF23; NegAFF22 ~~ NegAFF23
NegAFF31 ~~ NegAFF32 + NegAFF33; NegAFF32 ~~ NegAFF33
"
fit.conf <- cfa(modelo.conf, data = DF_mood, std.lv = T, missing = "fiml", estimator="MLR")
modelo.conf <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13; PosAFF12 ~~ PosAFF13
PosAFF21 ~~ PosAFF22 + PosAFF23; PosAFF22 ~~ PosAFF23
PosAFF31 ~~ PosAFF32 + PosAFF33; PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13; NegAFF12 ~~ NegAFF13
NegAFF21 ~~ NegAFF22 + NegAFF23; NegAFF22 ~~ NegAFF23
NegAFF31 ~~ NegAFF32 + NegAFF33; NegAFF32 ~~ NegAFF33
"
library(lavaan)
library(semTools)
library(semPlot)
modelo.conf <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13; PosAFF12 ~~ PosAFF13
PosAFF21 ~~ PosAFF22 + PosAFF23; PosAFF22 ~~ PosAFF23
PosAFF31 ~~ PosAFF32 + PosAFF33; PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13; NegAFF12 ~~ NegAFF13
NegAFF21 ~~ NegAFF22 + NegAFF23; NegAFF22 ~~ NegAFF23
NegAFF31 ~~ NegAFF32 + NegAFF33; NegAFF32 ~~ NegAFF33
"
fit.conf <- cfa(modelo.conf, data = DF_mood, std.lv = T, missing = "fiml", estimator="MLR")
summary(fit.conf, standardized=TRUE, fit.measures=TRUE, rsquare = TRUE)
parameterestimates(fit.conf, standardized=TRUE, rsquare = TRUE)
?parameterestimates(fit.conf, standardized=TRUE, rsquare = TRUE)
# Obtain all parameter estimates, including standardized values
all_params <- parameterEstimates(fit.conf, standardized = TRUE, rsquare = TRUE)
# Filter for rows where the operator is "=~", indicating factor loadings
all_params[all_params$op == "=~", ]
# Filter for rows where the operator is "=~", indicating factor loadings
all_params[all_params$op == "=~", ]
head(all_params[all_params$op == "~1", ])
all_params
### Modelo Base (invariância configuracional)
model <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13; PosAFF12 ~~ PosAFF13;
PosAFF21 ~~ PosAFF22 + PosAFF23; PosAFF22 ~~ PosAFF23;
PosAFF31 ~~ PosAFF32 + PosAFF33; PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13; NegAFF12 ~~ NegAFF13;
NegAFF21 ~~ NegAFF22 + NegAFF23; NegAFF22 ~~ NegAFF23;
NegAFF31 ~~ NegAFF32 + NegAFF33; NegAFF32 ~~ NegAFF33
"
## IM Longitudinal (OPCIONAL)
longFacNames <- list(Pos = c("Pos_T1","Pos_T2", "Pos_T3"), Neg = c("Neg_T1","Neg_T2", "Neg_T3"))
## configural model: no constraints across groups or repeated measures
syntax.config <- measEq.syntax(configural.model = model, data = DF_mood,
ID.fac = "std.lv", longFacNames = longFacNames)
summary(syntax.config) ## print a summary of model features
configural.fit <- cfa(syntax.config, data = DF_mood, meanstructure=T)
syntax.config <- as.character(syntax.config) # save as text
syntax.config
longFacNames
syntax.config
## IM Longitudinal (OPCIONAL)
longFacNames <- list(Pos = c("Pos_T1","Pos_T2", "Pos_T3"), Neg = c("Neg_T1","Neg_T2", "Neg_T3"))
## configural model: no constraints across groups or repeated measures
syntax.config <- measEq.syntax(configural.model = model, data = DF_mood,
ID.fac = "std.lv", longFacNames = longFacNames)
summary(syntax.config) ## print a summary of model features
syntax.config <- as.character(syntax.config) # save as text
configural.fit <- cfa(syntax.config, data = DF_mood, meanstructure=T)
summary(configural.fit, standardized=TRUE, fit.measures=TRUE, rsquare = TRUE)
fitMeasures(configural.fit, c("chisq.scaled", "df.scaled", "pvalue.scaled", "rmsea.robust",
"rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "cfi.robust",
"tli.robust", "srmr_mplus"))
fitMeasures(configural.fit, c("chisq.scaled", "df.scaled", "pvalue.scaled", "rmsea.robust",
"rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "cfi.robust",
"tli.robust", "srmr_mplus"))
fitMeasures(configural.fit)
c("chisq.scaled", "df.scaled", "pvalue.scaled", "rmsea.robust",
"rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "cfi.robust",
"tli.robust", "srmr_mplus")
configural.fit <- cfa(syntax.config, data = DF_mood, meanstructure=T, missing = "fiml", estimator="MLR")
summary(configural.fit, standardized=TRUE, fit.measures=TRUE, rsquare = TRUE)
fitMeasures(configural.fit, c("chisq.scaled", "df.scaled", "pvalue.scaled", "rmsea.robust",
"rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "cfi.robust",
"tli.robust", "srmr_mplus"))
configural.fit <- cfa(syntax.config, data = DF_mood, meanstructure=T, , std.lv = T, missing = "fiml", estimator="MLR")
summary(configural.fit, standardized=TRUE, fit.measures=TRUE, rsquare = TRUE)
fitMeasures(configural.fit, c("chisq.scaled", "df.scaled", "pvalue.scaled", "rmsea.robust",
"rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "cfi.robust",
"tli.robust", "srmr_mplus"))
configural.fit <- cfa(syntax.config, data = DF_mood, meanstructure=T , std.lv = T, missing = "fiml", estimator="MLR")
### Modelo Base (invariância configuracional)
model <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13; PosAFF12 ~~ PosAFF13;
PosAFF21 ~~ PosAFF22 + PosAFF23; PosAFF22 ~~ PosAFF23;
PosAFF31 ~~ PosAFF32 + PosAFF33; PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13; NegAFF12 ~~ NegAFF13;
NegAFF21 ~~ NegAFF22 + NegAFF23; NegAFF22 ~~ NegAFF23;
NegAFF31 ~~ NegAFF32 + NegAFF33; NegAFF32 ~~ NegAFF33
"
fit.7 <- cfa(modelo, data = DF_mood, meanstructure=T, std.lv=T)
### Modelo Base (invariância configuracional)
model <- "
# Definir variáveis latentes para os 3 momentos
Pos_T1 =~ PosAFF11 + PosAFF21 + PosAFF31
Pos_T2 =~ PosAFF12 + PosAFF22 + PosAFF32
Pos_T3 =~ PosAFF13 + PosAFF23 + PosAFF33
Neg_T1 =~ NegAFF11 + NegAFF21 + NegAFF31
Neg_T2 =~ NegAFF12 + NegAFF22 + NegAFF32
Neg_T3 =~ NegAFF13 + NegAFF23 + NegAFF33
# Correlações entre resíduos ao longo do tempo
PosAFF11 ~~ PosAFF12 + PosAFF13; PosAFF12 ~~ PosAFF13;
PosAFF21 ~~ PosAFF22 + PosAFF23; PosAFF22 ~~ PosAFF23;
PosAFF31 ~~ PosAFF32 + PosAFF33; PosAFF32 ~~ PosAFF33
NegAFF11 ~~ NegAFF12 + NegAFF13; NegAFF12 ~~ NegAFF13;
NegAFF21 ~~ NegAFF22 + NegAFF23; NegAFF22 ~~ NegAFF23;
NegAFF31 ~~ NegAFF32 + NegAFF33; NegAFF32 ~~ NegAFF33
"
fit.7 <- cfa(model, data = DF_mood, meanstructure=T, std.lv = T, missing = "fiml", estimator="MLR")
summary(fit.7, standardized=TRUE, fit.measures=TRUE, rsquare = TRUE)
fitMeasures(fit.7, c("chisq.scaled", "df.scaled", "pvalue.scaled", "rmsea.robust",
"rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "cfi.robust",
"tli.robust", "srmr_mplus"))
## IM Longitudinal (OPCIONAL)
longFacNames <- list(Pos = c("Pos_T1","Pos_T2", "Pos_T3"), Neg = c("Neg_T1","Neg_T2", "Neg_T3"))
## configural model: no constraints across groups or repeated measures
syntax.config <- measEq.syntax(configural.model = model, data = DF_mood,
ID.fac = "std.lv", longFacNames = longFacNames)
summary(syntax.config) ## print a summary of model features
syntax.config <- as.character(syntax.config) # save as text
configural.fit <- cfa(syntax.config, data = DF_mood, meanstructure=T , std.lv = T, missing = "fiml", estimator="MLR")
summary(configural.fit, standardized=TRUE, fit.measures=TRUE, rsquare = TRUE)
fitMeasures(configural.fit, c("chisq.scaled", "df.scaled", "pvalue.scaled", "rmsea.robust",
"rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "cfi.robust",
"tli.robust", "srmr_mplus"))
syntax.metric <- measEq.syntax(configural.model = syntax.config, data = DF_mood,
ID.fac = "std.lv", longFacNames = longFacNames,
long.equal  = c("loadings"))
syntax.metric
summary(syntax.metric) # summarize model features
metric.fit <- cfa(mod.metric, data = DF_mood, meanstructure=T)
mod.metric <- as.character(syntax.metric) # save as text
metric.fit <- cfa(mod.metric, data = DF_mood, meanstructure=T)
summary(metric.fit, standardized=TRUE, fit.measures=TRUE, rsquare = TRUE)
compareFit(configural.fit, metric.fit)
summary(metric.fit, standardized=TRUE, fit.measures=TRUE, rsquare = TRUE)
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Figures\\plot_LGC.jpg")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Figures\\plot_poli.jpg")
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Figures\\plot_LGC.jpg")
DF_LGM <- read.csv("G:\\My Drive\\FPCEUP\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Data\\lgm.csv")
DF_LGM <- read.csv("G:\\MyDrive\\FPCEUP\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Data\\lgm.csv")
DF_LGM <- read.csv("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Data\\lgm.csv")
str(DF_LGM)
ggplot() +
scale_y_continuous(limits=c(0,4)) +
geom_abline(data= DF_FIT.10.1.sel, aes(slope=slope, intercept=intercept), colour="grey") +
geom_abline(data= DF_coef_fit.10.1, aes(slope=slope, intercept=intercept, colour="estimate"), size=1) +
theme(legend.title = element_blank()) +
scale_x_continuous("TIME", limits=c(0,10))
knitr::include_graphics("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Figures\\Ferreira et al_2017.jpg")
#1
df_parinv_1 <- read.csv("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Data\\df_parinv_1.csv")
# pode usar a choose.files() para selecionar mais facilmente o ficheiro
ParInv_2 <- read.csv("G:\\My Drive\\FPCEUP\\AtividadeDocente\\Longitudinal_SEM\\LongSEM_Data\\df_parinv_2.csv")
# pode usar a choose.files() para selecionar mais facilmente o ficheiro
